(function(){var e,s="hx-target-";function n(e,t){return e.substring(0,t.length)===t}function o(t,o){if(!t||!o)return null;var a,r,l,i=o.toString(),c=[i,i.substring(0,2)+"*",i.substring(0,2)+"x",i.substring(0,1)+"*",i.substring(0,1)+"x",i.substring(0,1)+"**",i.substring(0,1)+"xx","*","x","***","xxx"];(n(i,"4")||n(i,"5"))&&c.push("error");for(a=0;a<c.length;a++)if(l=s+c[a],r=e.getClosestAttributeValue(t,l),r)return r==="this"?e.findThisElement(t,l):e.querySelectorExt(t,r);return null}function t(e){e.detail.isError?htmx.config.responseTargetUnsetsError&&(e.detail.isError=!1):htmx.config.responseTargetSetsError&&(e.detail.isError=!0)}htmx.defineExtension("response-targets",{init:function(t){e=t,htmx.config.responseTargetUnsetsError===0[0]&&(htmx.config.responseTargetUnsetsError=!0),htmx.config.responseTargetSetsError===0[0]&&(htmx.config.responseTargetSetsError=!1),htmx.config.responseTargetPrefersExisting===0[0]&&(htmx.config.responseTargetPrefersExisting=!1),htmx.config.responseTargetPrefersRetargetHeader===0[0]&&(htmx.config.responseTargetPrefersRetargetHeader=!0)},onEvent:function(e,n){if(e==="htmx:beforeSwap"&&n.detail.xhr&&n.detail.xhr.status!==200){if(n.detail.target){if(htmx.config.responseTargetPrefersExisting)return n.detail.shouldSwap=!0,t(n),!0;if(htmx.config.responseTargetPrefersRetargetHeader&&n.detail.xhr.getAllResponseHeaders().match(/HX-Retarget:/i))return n.detail.shouldSwap=!0,t(n),!0}if(!n.detail.requestConfig)return!0;var s=o(n.detail.requestConfig.elt,n.detail.xhr.status);return s&&(t(n),n.detail.shouldSwap=!0,n.detail.target=s),!0}}})})()